{"ast":null,"code":"var _jsxFileName = \"/home/gabiazevedo/Trybe/Projetos-Trybe/Projetos M\\xF3dulo II - Front End/Projeto-App-De-Receitas/src/components/DrinkFavoriteButton.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { saveFavoriteRecipe, removeFavoriteRecipe } from '../redux/actions/drinkActions';\nimport whiteHeartIcon from \"../images/whiteHeartIcon.svg\";\nimport blackHeartIcon from \"../images/blackHeartIcon.svg\";\n\nclass DrinkFavoriteButton extends Component {\n  constructor() {\n    super();\n    this.state = {\n      whiteHeart: true\n    };\n    this.handleFavoriteClick = this.handleFavoriteClick.bind(this);\n    this.setFavoriteIcon = this.setFavoriteIcon.bind(this);\n  }\n\n  componentDidMount() {\n    const {\n      id\n    } = this.props;\n    const {\n      whiteHeart\n    } = this.state;\n    const favoriteMeals = JSON.parse(localStorage.getItem('favoriteRecipes'));\n\n    if (whiteHeart && favoriteMeals && favoriteMeals.find(item => item.id === id)) {\n      this.setFavoriteIcon();\n    }\n  }\n\n  componentDidUpdate() {\n    const {\n      id\n    } = this.props;\n    const {\n      whiteHeart\n    } = this.state;\n    const favoriteCocktails = JSON.parse(localStorage.getItem('favoriteRecipes'));\n\n    if (whiteHeart && favoriteCocktails && favoriteCocktails.find(item => item.id === id)) {\n      this.setFavoriteIcon();\n    }\n  }\n\n  handleFavoriteClick() {\n    const {\n      favoriteRecipes,\n      id,\n      removeRecipes\n    } = this.props;\n    const {\n      whiteHeart\n    } = this.state;\n\n    if (whiteHeart === true) {\n      favoriteRecipes(id);\n    }\n\n    if (whiteHeart === false) {\n      removeRecipes(id);\n    }\n\n    this.setState(prevState => ({\n      whiteHeart: !prevState.whiteHeart\n    }));\n  }\n\n  setFavoriteIcon() {\n    this.setState({\n      whiteHeart: false\n    });\n  }\n\n  render() {\n    const {\n      whiteHeart\n    } = this.state;\n    const {\n      test\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button\",\n      type: \"button\",\n      onClick: () => this.handleFavoriteClick(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      \"data-testid\": test,\n      src: whiteHeart ? whiteHeartIcon : blackHeartIcon,\n      alt: \"favorite food button\",\n      width: \"120%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => ({\n  favoriteRecipes: id => dispatch(saveFavoriteRecipe(id)),\n  removeRecipes: id => dispatch(removeFavoriteRecipe(id))\n});\n\nDrinkFavoriteButton.propTypes = {\n  id: PropTypes.number,\n  favoriteRecipes: PropTypes.func,\n  removeRecipes: PropTypes.func\n}.isRequired;\nexport default connect(null, mapDispatchToProps)(DrinkFavoriteButton);","map":{"version":3,"sources":["/home/gabiazevedo/Trybe/Projetos-Trybe/Projetos MÃ³dulo II - Front End/Projeto-App-De-Receitas/src/components/DrinkFavoriteButton.js"],"names":["React","Component","connect","PropTypes","saveFavoriteRecipe","removeFavoriteRecipe","DrinkFavoriteButton","constructor","state","whiteHeart","handleFavoriteClick","bind","setFavoriteIcon","componentDidMount","id","props","favoriteMeals","JSON","parse","localStorage","getItem","find","item","componentDidUpdate","favoriteCocktails","favoriteRecipes","removeRecipes","setState","prevState","render","test","whiteHeartIcon","blackHeartIcon","mapDispatchToProps","dispatch","propTypes","number","func","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { saveFavoriteRecipe, removeFavoriteRecipe } from '../redux/actions/drinkActions';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\n\nclass DrinkFavoriteButton extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      whiteHeart: true,\n    };\n\n    this.handleFavoriteClick = this.handleFavoriteClick.bind(this);\n    this.setFavoriteIcon = this.setFavoriteIcon.bind(this);\n  }\n\n  componentDidMount() {\n    const { id } = this.props;\n    const { whiteHeart } = this.state;\n    const favoriteMeals = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    if (whiteHeart && favoriteMeals && favoriteMeals.find((item) => item.id === id)) {\n      this.setFavoriteIcon();\n    }\n  }\n\n  componentDidUpdate() {\n    const { id } = this.props;\n    const { whiteHeart } = this.state;\n    const favoriteCocktails = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    if (whiteHeart && favoriteCocktails\n      && favoriteCocktails.find((item) => item.id === id)) {\n      this.setFavoriteIcon();\n    }\n  }\n\n  handleFavoriteClick() {\n    const { favoriteRecipes, id, removeRecipes } = this.props;\n    const { whiteHeart } = this.state;\n    if (whiteHeart === true) {\n      favoriteRecipes(id);\n    }\n    if (whiteHeart === false) {\n      removeRecipes(id);\n    }\n    this.setState((prevState) => ({\n      whiteHeart: !prevState.whiteHeart,\n    }));\n  }\n\n  setFavoriteIcon() {\n    this.setState({\n      whiteHeart: false,\n    });\n  }\n\n  render() {\n    const { whiteHeart } = this.state;\n    const { test } = this.props;\n    return (\n      <button\n        className=\"button\"\n        type=\"button\"\n        onClick={ () => this.handleFavoriteClick() }\n      >\n        <img\n          data-testid={ test }\n          src={ whiteHeart ? whiteHeartIcon : blackHeartIcon }\n          alt=\"favorite food button\"\n          width=\"120%\"\n        />\n      </button>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  favoriteRecipes: (id) => dispatch(saveFavoriteRecipe(id)),\n  removeRecipes: (id) => dispatch(removeFavoriteRecipe(id)),\n});\n\nDrinkFavoriteButton.propTypes = {\n  id: PropTypes.number,\n  favoriteRecipes: PropTypes.func,\n  removeRecipes: PropTypes.func,\n}.isRequired;\n\nexport default connect(null, mapDispatchToProps)(DrinkFavoriteButton);\n"]},"metadata":{},"sourceType":"module"}